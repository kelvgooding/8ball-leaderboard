<!DOCTYPE html>
<html>
    <head>
        <meta name="author" content="Kelv Gooding">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/x-icon" href="../static/images/icon-8ball.png">
        <link rel="stylesheet" href="../static/css/styles.css">
        <title>8-Ball Leaderboard</title>
    </head>
        
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-43S08T1PHV"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-43S08T1PHV');
    </script>
    
    <body>
        <header>
            <section>            
                <h1>8-BALL<br>
                LEADERBOARD</h1>

                <img width="70" height="70" style="margin-top: -15px; margin-bottom: -10px;" src="../static/images/icon-8ball.png"/>
            </section>
        </header>
        <main>   

            <datalist id="player-list">
                {% for i in players %}
                <option value="{{i}}"></option>
                {% endfor %}
            </datalist>

            <section>
                <h1>NEW MATCH</h1>
                Enter the name of both players below.<br>
                Press WINNER once a player has won the match.

                <br><br>
                <img width="45" height="45" src="../static/images/versus.png"/>
                <br>

                <form method="post">
                    <h1>Player 1:</h1>
                    <input type="text" class="input-field" placeholder="Player 1: Enter your name" name="name-p1" list="player-list" required/>
                    <input type="submit" value="WINNER" class="input-button" name="win-p1"/>

                    <h1>Player 2:</h1>
                    <input type="text" class="input-field" placeholder="Player 2: Enter your name" name="name-p2" list="player-list" required/>
                    <input type="submit" value="WINNER" class="input-button" name="win-p2"/>
                </form>
            </section>
            <hr>
            <section>
                <h1>LEADERBOARD</h1>
                <img width="50" height="50" src="../static/images/icon-win.png"/>
                <br>
                
                <div style="overflow-x:auto;">
                    <table>
                        <tr>
                            <th width="100px">Rank</th>
                            <th width="100px">Players</th>
                            <th width="100px">Wins</th>
                            <th width="100px">Played</th>
                            <th width="100px">Win %</th>
                        </tr>
                        {% for row in leaderboard %}
                        <tr>
                            <td><b>#{{ loop.index }}</b></td>
                            {% for cell in row %}
                            <td>{{ cell }}</td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </table>
                </div>

            </section>

            <br>
            <hr>

            <section>
                <h1>RECENT RESULTS</h1>
                The last 5 match results:
                <br><br>

                <div class="card-recent-results">   
                    <br>
                    {{listed.0.4[0:10]}}
                    <br>
                    {{listed.0.4[11:16]}}
                    <br>
                    <table>
                        <tr>
                            <th>{{listed.0.0}}</th>
                            <th width="30px">vs</th>
                            <th>{{listed.0.2}}</th>
                        </tr>
                        <tr>
                            <td>                    
                                {% if listed.0.1 == 1 %}
                                    <img width="30" height="30" src="../static/images/icon-win.png"/>
                                {% endif %}
                            </td>
                            <td>
                            </td>
                            <td>
                                {% if listed.0.3 == 1 %}
                                    <img width="30" height="30" src="../static/images/icon-win.png"/>
                                {% endif %}
                            </td>
                        </tr>
                    </table>
                </div>

                <div class="card-recent-results">   
                    <br>
                    {{listed.1.4[0:10]}}
                    <br>
                    {{listed.1.4[11:16]}}
                    <br>
                    <table>
                        <tr>
                            <th>{{listed.1.0}}</th>
                            <th width="30px">vs</th>
                            <th>{{listed.1.2}}</th>
                        </tr>
                        <tr>
                            <td>                    
                                {% if listed.1.1 == 1 %}
                                    <img width="30" height="30" src="../static/images/icon-win.png"/>
                                {% endif %}
                            </td>
                            <td>
                            </td>
                            <td>
                                {% if listed.1.3 == 1 %}
                                    <img width="30" height="30" src="../static/images/icon-win.png"/>
                                {% endif %}
                            </td>
                        </tr>
                    </table>
                </div>

                <div class="card-recent-results">   
                    <br>
                    {{listed.2.4[0:10]}}
                    <br>
                    {{listed.2.4[11:16]}}
                    <br>
                    <table>
                        <tr>
                            <th>{{listed.2.0}}</th>
                            <th width="30px">vs</th>
                            <th>{{listed.2.2}}</th>
                        </tr>
                        <tr>
                            <td>                    
                                {% if listed.2.1 == 1 %}
                                    <img width="30" height="30" src="../static/images/icon-win.png"/>
                                {% endif %}
                            </td>
                            <td>
                            </td>
                            <td>
                                {% if listed.2.3 == 1 %}
                                    <img width="30" height="30" src="../static/images/icon-win.png"/>
                                {% endif %}
                            </td>
                        </tr>
                    </table>
                </div>

                <div class="card-recent-results">   
                    <br>
                    {{listed.3.4[0:10]}}
                    <br>
                    {{listed.3.4[11:16]}}
                    <br>
                    <table>
                        <tr>
                            <th>{{listed.3.0}}</th>
                            <th width="30px">vs</th>
                            <th>{{listed.3.2}}</th>
                        </tr>
                        <tr>
                            <td>                    
                                {% if listed.3.1 == 1 %}
                                    <img width="30" height="30" src="../static/images/icon-win.png"/>
                                {% endif %}
                            </td>
                            <td>
                            </td>
                            <td>
                                {% if listed.3.3 == 1 %}
                                    <img width="30" height="30" src="../static/images/icon-win.png"/>
                                {% endif %}
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="card-recent-results">   
                    <br>
                    {{listed.4.4[0:10]}}
                    <br>
                    {{listed.4.4[11:16]}}
                    <br>
                    <table>
                        <tr>
                            <th>{{listed.4.0}}</th>
                            <th width="30px">vs</th>
                            <th>{{listed.4.2}}</th>
                        </tr>
                        <tr>
                            <td>                    
                                {% if listed.4.1 == 1 %}
                                    <img width="30" height="30" src="../static/images/icon-win.png"/>
                                {% endif %}
                            </td>
                            <td>
                            </td>
                            <td>
                                {% if listed.4.3 == 1 %}
                                    <img width="30" height="30" src="../static/images/icon-win.png"/>
                                {% endif %}
                            </td>
                        </tr>
                    </table>
                </div>

            </section>
        </main>

        <footer>

            <!-- Social Media Links -->

            <section>
                <a href="https://livelifeautomate.co.uk" target="_blank"><img src="../static/images/web-logo.png" class="img-logo-social"/></a>
                <a href="https://instagram.com/kelvgooding" target="_blank"><img src="../static/images/instagram-logo.png" class="img-logo-social"/></a>
                <a href="https://www.linkedin.com/in/kelvingooding/" target="_blank"><img src="../static/images/linkedin-logo.png" class="img-logo-social"/></a>
                <a href="https://github.com/kelvgooding/" target="_blank"><img src="../static/images/github-logo.png" class="img-logo-social"/></a>
                <a href="mailto:kelvingooding@livelifeautomate.co.uk?subject=8-Ball Leaderboard - Feedback"><img src="../static/images/mail-logo.png" class="img-logo-social"/></a>
            </section>

            <br>

            <!-- Copyright -->
            <section>
                Created by Kelv Gooding<br>
                © 2022 Live.Life.Automate! All rights reserved.<br>
            </section>

        </footer>
    </body>
</html>
